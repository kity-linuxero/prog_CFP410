<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Programación</title>
		<link rel="stylesheet" href="css/egg.css">
		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">
		
		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">

	</head>
	<body>

		<div class="reveal">
			<div class="slides">

				<section  data-background="./static/back.jpg"  data-background-color="#dddddd" data-background-size="contain">
					
					<h2>Introducción a la programación</h2>
				</section>

				<section>
					<h2>Clase 8</h2>
					<h3>Contenido para hoy</h3>
					<ul>
						<li>Archivos</li>
					</ul>
				</section>

				<section>
					<section>
						<h2>Archivos</h2>
					</section>

					<section>
						<h2>Archivos</h2>
						<p><small>Un archivo o fichero es una secuencia de bytes almacenados en un dispositivo. Un archivo se identifica por un nombre y una ubicación dentro de un sistema de archivos (file system). Un sistema de archivos, por lo general tiene una forma jerárquica en forma de arbol para representar los archivos en los nodos "hoja" y las carpetas o directorios en los nodos intermedios.</small></p>
						<img data-src="./static/clase8/FilesAndFolders.png">
						
					</section>

					<section>
						<h3>Archivos en Python</h3>
						<p><small>Al igual que en otros lenguajes de programación, Python soporta nativamente operaciones sobre arhivos.</small></p>
						<p><small>Las operaciones soportadas mas utilizadas son: abrir un archivo, cerrar, crear, escribir, añadir contenido, abrir archivo en modo binario..</small></p>
						<p><small>Como podrá imaginarse, en Python es muy sencillo realizar todas estas operaciones. A continuación veremos varios ejemplos de como realizar las acciones mencionadas.</small></p>

					</section>
				</section>
				<section>

					<section>
						<h2>Leer archivos</h2>
					</section>

					<section>
						<h3>Leer archivos</h3>
						<p><small>Uno de los archivos que soporta Python son los archivos de texto plano (sin formato). Imaginemos que tenemos el archivo <code>curso_ate.txt</code> en la misma carpeta donde corre nuestro programa.</small></p>
						<!-- <pre data-id="code-animation"><code class="txt" data-trim>
							Línea 1
							Línea 2
							Línea 3
						</code></pre> -->
						<p><small>Podemos abrir el archivo usando la función <code>open()</code> pasando como argumento el nombre de archivo que queremos abrir.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt')
						</code></pre>
						<p><small>De esa manera tendremos en la variable <code>archivo</code> el contenido del archivo. De esta forma cargamos un archivo que está en almacenamiento a la memoria RAM para poder trabajar sobre él.</small></p>
						
					</section>
					
					<section>
						<h3>Leer archivos (cont)</h3>
						<p><small>En el ejemplo anterior, vimos la función <code>open()</code> enviando como argumento de la función solo el nombre del archivo.</small></p>
						<p><small>Si no se especifica algún otro argumento que no sea el nombre del archivo, se abrirá el archivo en modo <code>lectura</code>. Pero existe un segundo argumento es es importante especificar que representa el <strong>el modo de apertura del archivo</strong></small></p>
						<small>
						<ul>
							<li><strong><code>'r'</code></strong>: Por defecto. Leer un archivo.</li>
							<li><strong><code>'w'</code></strong>: Escribir un archivo.</li>
							<li><strong><code>'x'</code></strong>: Creación de un archivo. Si existe falla.</li>
							<li><strong><code>'a'</code></strong>: Añadir contenido a un archivo existente.</li>
							<li><strong><code>'b'</code></strong>: Abrir un archivo en modo binario.</li>
						</ul>
						</small>
						<p><small>Por lo que, para abrir el archivo <code>curso_ate.txt</code> si especificamos el segundo argumento quedaría:</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
						</code></pre>
						<p><small>Si bien no hace falta especificar el modo 'r' se recomienda como buena práctica.</small></p>
						<p><small>Mas info en la <a href="https://docs.python.org/3/library/functions.html#open">doc oficial.</a></small></p>
					

					</section>

					<section>
						<h3>Método <code>read()</code></h3>
						<p><small>Volviendo al ejemplo del archivo <code>curso_ate.txt</code> imaginemos que el archivo tiene el siguiente contenido:</small></p>
						<pre data-id="code-animation"><code class="txt" data-trim>
							Línea 1
							Línea 2
							Línea 3
						</code></pre>

						<p><small>Podemos leer el archivo e imprimirlo por pantalla:</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
							print(archivo.read())
							# Línea 1
							# Línea 2
							# Línea 3
						</code></pre>					

					</section>

					<section>
						<h3>Método <code>readline()</code></h3>
						<p><small>Es posible ir leyendo línea por línea un archivo. El método que se usa para realizar esto es <code>readline()</code>. Cada vez que se llama a la función <code>readline()</code> se lee una línea. Hasta que se llega al final del archivo en ese momento, la función no devolverá nada.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
							print(archivo.readline())
							print(archivo.readline())
							# Línea 1
							# Línea 2
						</code></pre>
						<p><small>Otra forma de usar <code>readline()</code> es pasando como argumento un número que indicará la cantidad de caracteres a leer.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
							print(archivo.readline(1))
							# L
						</code></pre>
					</section>

					<section>
						<h3>Método <code>readlines()</code></h3>
						<p><small>Este método devuelve una <strong>lista</strong> donde cada elemento de la lista es una línea del archivo. De manera que podemos tratarlo como una lista común y corriente.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
							lista_lineas = archivo.readlines()
							print(lista_lineas)
							# ['Línea 1\n', 'Línea 2\n', 'Línea 3\n']
						</code></pre>
						<h4>Iterar sobre las líneas</h4>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
							lista = archivo.readlines()
							
							for l in lista:
								print(l)

							# Línea 1
							# Línea 2
							# Línea 3
						</code></pre>
					</section>

					<section>
						<h3>Cerrar archivos</h3>
						<p><small>Otra cosa que debemos hacer cuando trabajamos con archivos en Python es cerrar dichos archivos una vez que hemos trabajado con ellos.</small></p>
						<p><small>Aunque Python los cierra automáticamente una vez finaliza el programa, es recomendable cerrarlos manualmente.</small></p>
						<p><small>Por lo tanto, para cerrar los archivos alcanza simplemente con el método <code>close()</code></small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open('curso_ate.txt','r')
							# ... Trabajo con el archivo
							archivo.close()
						</code></pre>						

					</section>

					<section>
						<h3>Cerrar archivos (cont)</h3>
						<p><small>Existe otra forma de cerrar el archivo automáticamente cuando finalicemos el bloque de código. Esto es posible con la instrucción <code>with()</code></small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							with open('curso_ate.txt','r') as archivo:
								# Trabajar con 'archivo'
							# El archivo ya está cerrado.
						</code></pre>							
					</section>

					<section>
						<h3>Ejemplos - leer líneas</h3>
						
						<pre data-id="code-animation"><code class="python" data-trim>
							with open('curso_ate.txt', 'r') as archivo:
							linea = archivo.readline()
							while linea != '':
								print(linea, end='')
								linea = fichero.readline()
						</code></pre>
						<p><small>Se usa el <code>end=''</code> para que no imprima el salto de línea. </small></p>

						<h4>Como lista</h4>

						<pre data-id="code-animation"><code class="python" data-trim>
							with open('curso_ate.txt', 'r') as archivo:
							for linea in archivo.readlines():
								print(linea, end='')
						</code></pre>

					</section>

					<section>
						<h3>Ejemplos - leer líneas (Cont)</h3>
						<p>Versión resumida:</p>
						<pre data-id="code-animation"><code class="python" data-trim>
							with open('ejemplo.txt', 'r') as fichero:
								for linea in fichero:
									print(linea, end='')
						</code></pre>
						<h4>Output</h4>
						
						<pre data-id="code-animation"><code class="bash" data-trim>
							# Línea 1
							# Línea 2
							# Línea 3
						</code></pre>
						<p>En todos los casos dará el mismo output</p>
					</section>

					<section>
						<h2>¿Preguntas?</h2>
					</section>
				</section>

				<section>
					<section>
						<h2>Escribir archivos</h2>
					</section>

					<section>
						<h3>Escribir archivos</h3>
						<p><small>En la sección anterior vimos como abrir archivos y leerlos línea por línea. Es posible también escribir en archivos. A modo de repaso, veremos el método <code>open()</code> con argumentos orientados a la modificación de archivos:</small></p>
						<small>
							<ul>
								<li><strong><code>'w'</code></strong>: Borra el archivo si ya existiese y crea uno nuevo con el nombre indicado.</li>
								<li><strong><code>'x'</code></strong>: Creación de un archivo. Si ya existe el archivo se devuelve un error..</li>
								<li><strong><code>'a'</code></strong>: Añadirá el contenido al final del archivo si ya existiese (append end Inglés).</li>
							</ul>
						</small>

						

						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open("datos.txt", 'w')
						</code></pre>
						<p><small>De esa forma creamos un archivo con el nombre <code>datos.txt</code>. Si queremos agregar datos lo abrimos con la opción "append".</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open("datos.txt", 'a')
						</code></pre>
					</section>

					<section>
						<h3>Método <code>write()</code></h3>
						<p><small>Ya hemos visto como crear un archivo, ahora veremos como agregar contenido al mismo.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open("datos.txt", 'w')
							archivo.write("Agregamos una línea")
							archivo.close()
						</code></pre>
						<p><small>Es <strong>muy importante</strong> cerrar el archivo cuando estamos en modo escritura.</small></p>
						
						<p class="fragment"><small>Copiemos y peguemos el ejemplo citado. ¿Puede correr el programa y ver si se crea el archivo con el contenido indicado? ¿Así de fácil se agrega una línea?</small></p>
					</section>
					<section>
						<h3>Método <code>write()</code> (cont)</h3>
						<p><small>Si quisieramos guardar una lista de elementos en un archivo. ¿Cómo procedemos?</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							# Abrimos el archivo como escritura
							archivo = open("datos.txt", 'w')
							
							# Tenemos unos datos que queremos guardar
							jugadores = ["Messi", "J. Alvarez", "Dybala"]
							
							# Guardamos la lista en el fichero
							for linea in jugadores:
								archivo.write(linea + "\n")
							
							# Cerramos el fichero
							archivo.close()
						</code></pre>
						<p><small>Es importante agregar el salto de línea "<code>\n</code>" ya que por defecto no la agrega.</small></p>

					</section>

					<section>
						<h3>Método <code>writelines()</code></h3>
						<p><small>Podemos enviarle una lista al método <code>writelines()</code> y el mismo se encargará de guardar cada elemento en el archivo.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							archivo = open("datos.txt", 'w')
							jugadores = ["Messi", "J. Alvarez", "Dybala"]
							
							archivo.writelines(jugadores)
							archivo.close()
							
							# Se guarda
							# MessiJ. AlvarezDybala
						</code></pre>
						<p><small>Se guarda todo junto sin espacios en cada elemento. Quizás no es lo que deseamos. Podemos solucionarlo agregando un salto de línea en cada elemento de la lista.</small></p>
						<p><small>Podemos hacer una iteración recorriendo la lista agregando el salto de línea en cada elemento o guardarlo con el salto de línea.</small></p>
					</section>

					<section>
						<h3>Usando <code>with</code></h3>
						<p><small>Podemos simplificar el código con la instrucción <code>with()</code>. Con dicho método no será necesario cerrar el archivo una vez que lo hayamos utilizado. El archivo se cerrará cuando finalice el bloque <code>with</code>.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							jugadores = ["Messi\n", "J. Alvarez\n", "Dybala\n"]
							with open("datos.txt", 'w') as archivo:
								 archivo.writelines(jugadores)
						</code></pre>
						<h4>Contenido del archivo</h4>
						<pre data-id="code-animation"><code class="bash" data-trim>
							Messi
							J. Alvarez
							Dybala
						</code></pre>
					</section>

					<section>
						<h3>Ejemplos escribiendo archivos</h3>
						<p><small>Realizaremos dos funciones, una para leer un archivo y otra para escribirlo.</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							def escribe_archivo(mensaje):
								with open('file.txt', 'w') as archivo:
									archivo.write(mensaje)
  
							def lee_archivo():
								mensaje = ""
								with open('file.txt', 'r') as archivo:
									mensaje = archivo.read()
								# Borra el contenido del fichero para dejarlo vacío
								f = open('file.txt', 'w')
								f.close()
								return mensaje
							escribe_archivo("Mensaje para el curso")
							print(lee_fichero())
						</code></pre>

					</section>
				</section>



					<section>
						<h2>¿Preguntas?</h2>
					</section>

					
					
				</section>

				<section>
					<section>
						<h3>Built-in Functions</h3>
					</section>

					<section>
						<h3>Built-in Functions</h3>
						<p><small>Python (como muchos otros lenguajes) contiene tipos y funciones incorporadas (Built-in Functions) que siempre estarán disponibles para usarlas sin necesidad de acudir a <code>import</code>.</small></p>
						<p><small>Puede consultar en <a href="https://docs.python.org/es/3/library/functions.html" target="_blank">la Documentación de Python</a> para tener un listado completo.</small></p>
						<p><small>Algunas ya las hemos usado en clase por lo que le pueden resultar familiar.</small></p>
					</section>

				</section>

				<section>
					<section>
						<h3>Consideraciones para escribir módulos</h3>
					</section>

					<section>
						<h3>Documentación de los módulos</h3>
						<p><small>Una buena práctica cuando se escribe un módulo es definir que es lo que hace y como se usa. Se usa la notación de comentarios con triple comillas dobles.</small></p>

						<h4>modulo_clase.py</h4>
						<pre data-id="code-animation"><code class="python" data-trim>
							"""Breve descripción del módulo
							Puede contener instrucciones de como se usa
							"""
							
							def suma(a, b):
								""" Retorna la suma de dos operandos enviados por parámetro
								"""
								return a + b
							
							if (__name__ == '__main__'):
								print(f"La suma es {suma(3,99)}") # Código "suelto"
						</code></pre>


					</section>

					<section>
						<h4>Para hacer en clase</h4>
						<p><small>Ingrese al intérprete de Python escribiendo <code>python</code> en su consola. Una vez que tenga el prompt escriba <code>help(sum)</code></small></p>
						<p><small>¿Qué ha pasado?</small></p>
						<p><small>Copie y pegue el contenido de modulo_clase.py y grabelo en su computadora en una carpeta. Luego abra un intérprete de Python dentro de esa carpeta y escriba lo siguiente:</small></p>
						<pre data-id="code-animation"><code class="python" data-trim>
							import modulo_clase.py
							help(modulo_clase)
						</code></pre>
						<p><small>¿Qué ha pasado?</small></p>

					</section>
					
				</section>

				<section>
					<h3>Ejercicio en clase</h3>
					<p><small>Cree su propio módulo llamado <code>matematica</code> que contenga 4 funciones una para suma, resta, multiplicación y división respectivamente. Cada función debe retornar el resultado de la operación.</small></p>
					<p><small>Luego escriba en otro archivo un programa que importe el módulo y solicite al usuario dos números y ejecute cada función informando el resultado por pantalla.</small></p>
					<p><small>No olvide de realizar la documentación del módulo.</small></p>

				</section>

				<section>

					
					<section>
						<h3>Glosario de clase</h3>
						<ul>
							<li><strong>Path:</strong><small>Un path es una ruta en un file-system (Estructura de directorios). Un ejemplo de un path, puede ser <code>C:\curso\python\modulos</code> para una ruta absoluta en Windows o <code>..\python\modulos</code> para una ruta relativa.<br>Otro ejemplo, para rutas estilo Unix (Linux, Mac) podría ser <code>/home/usuario/python/modulos</code> para un path absoluto y <code>./python/modulos</code> para una ruta relativa.</small>
							</li>
							<li><strong>Módulo:</strong><small>Un módulo es un archivo que consta de código Python. Un módulo puede definir funciones, variables y clases. Un módulo también puede incluir código ejecutable.</small></li>							
						</ul>

					</section>

				</section>
				





				<section data-transition="zoom" data-background="./static/back.jpg"  data-background-color="#dddddd" data-background-size="contain">
					<h3>¡Fin de la clase!</h3>
					<a href="./clase5.html"> < Ir a clase anterior</a><br>
					

				</section>
					<section data-transition="zoom" data-background="./static/back.jpg"  data-background-color="#dddddd" data-background-size="contain">
						<h2>Bibliografia</h2>
						
						<p><a href="https://ellibrodepython.com" target="_blank">El libro de Python</a></p>
						<p><a href="https://raw.githubusercontent.com/espinoza/ThinkPython2-spanish/master/book/thinkpython2-spanish.pdf">ThinkPython 2nd edition<br><small>(Downey-Elkner-Meyers)</small></a></p>
						<!-- <h3>Referencias</h3> -->
						<h3>Recursos</h3>
						<p><a href="https://www.online-python.com/" target="_blank">Interprete Python Online</a></p>
						<p><a href="https://www.mycompiler.io/new/python" target="_blank">My Compiler IDE Online</a></p>
						
					</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script src="plugin/zoom/zoom.js"></script>
		<script src="js/egg.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom ]
			});
		</script>
	</body>
</html>
